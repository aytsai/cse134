(function(e){e.fn.__bind__=e.fn.bind;e.fn.__unbind__=e.fn.unbind;e.fn.__find__=e.fn.find;var t={version:"0.7.9",override:/keypress|keydown|keyup/g,triggersMap:{},specialKeys:{27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",109:"-",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",191:"/"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},newTrigger:function(e,t,n){var r={};r[e]={};r[e][t]={cb:n,disableInInput:false};return r}};t.specialKeys=e.extend(t.specialKeys,{96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/"});e.fn.find=function(t){this.query=t;return e.fn.__find__.apply(this,arguments)};e.fn.unbind=function(n,r,i){if(e.isFunction(r)){i=r;r=null}if(r&&typeof r==="string"){var s=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString();var o=n.split(" ");for(var u=0;u<o.length;u++){delete t.triggersMap[s][o[u]][r.toLowerCase()]}}return this.__unbind__(n,i)};var n=false;e.fn.bind=function(r,i,s){var o=r.match(t.override);if(e.isFunction(i)||!o){return this.__bind__(r,i,s)}else{var u=null,a=e.trim(r.replace(t.override,""));if(a){u=this.__bind__(a,i,s)}if(typeof i==="string"){i={combi:i}}if(i.combi){for(var f=0;f<o.length;f++){var l=o[f];var c=i.combi.toLowerCase(),h=t.newTrigger(l,c,s),p=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString();h[l][c].disableInInput=i.disableInInput;if(!t.triggersMap[p]){t.triggersMap[p]=h}else if(!t.triggersMap[p][l]){t.triggersMap[p][l]=h[l]}var d=t.triggersMap[p][l][c];if(!d){t.triggersMap[p][l][c]=[h[l][c]]}else if(d.constructor!==Array){t.triggersMap[p][l][c]=[d]}else{t.triggersMap[p][l][c][d.length]=h[l][c]}this.each(function(){var t=e(this);if(t.attr("hkId")&&t.attr("hkId")!==p){p=t.attr("hkId")+";"+p}t.attr("hkId",p)});if(!n){n=true;u=this.__bind__(o.join(" "),i,t.handler)}}}return u}};t.findElement=function(t){if(!e(t).attr("hkId")){if(e.browser.opera||e.browser.safari){while(!e(t).attr("hkId")&&t.parentNode){t=t.parentNode}}}return t};t.handler=function(n){var r=t.findElement(n.currentTarget),i=e(r),s=i.attr("hkId");if(s){s=s.split(";");var o=n.which,u=n.type,a=t.specialKeys[o],f=!a&&String.fromCharCode(o).toLowerCase(),l=n.shiftKey,c=n.ctrlKey,h=n.altKey||n.originalEvent.altKey,p=null;for(var d=0;d<s.length;d++){if(t.triggersMap[s[d]][u]){p=t.triggersMap[s[d]][u];break}}if(p){var v;if(!l&&!c&&!h){v=p[a]||f&&p[f]}else{var m="";if(h)m+="alt+";if(c)m+="ctrl+";if(l)m+="shift+";v=p[m+a];if(!v){if(f){v=p[m+f]||p[m+t.shiftNums[f]]||m==="shift+"&&p[t.shiftNums[f]]}}}if(v){var g=false;for(var d=0;d<v.length;d++){if(v[d].disableInInput){var y=e(n.target);if(i.is("input")||i.is("textarea")||i.is("select")||y.is("input")||y.is("textarea")||y.is("select")){return true}}g=g||v[d].cb.apply(this,[n])}return g}}}return g};window.hotkeys=t;return e})(jQuery)